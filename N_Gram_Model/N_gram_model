import re
import collections

# using lyrics of 'I am feeling good song' by Michael Bubl√©
text = """
Birds flying high. You know how I feel. Sun in the sky
You know how I feel. Breeze driftin' on by. You know how I feel
It's a new dawn. It's a new day. It's a new life. For me
And I'm feeling good. I'm feeling good. 
Fish in the sea. You know how I feel.
River running free. You know how I feel.
Blossom on a tree. You know how I feel.
It's a new dawn. It's a new day. It's a new life. For me
And I'm feeling good.
Dragonfly out in the sun you know what I mean, don't you know.
Butterflies all havin' fun, you know what I mean.
Sleep in peace when day is done, that's what I mean.
And this old world is a new world. And a bold world. For me"""

def normalise(text):
    # This function to clean & normalise text
    # convert to lower case
    text = text.lower()
    
    # remove punctuations
    text = re.sub(r'\W', ' ', text)
    
    return text
    
    
# First using Python only
def N_grams(text, n):
    # The function takes text and number of words you want to examine
    
    # normalise text
    text = normalise(text)
    # tokenize 
    text = text.split()
    
    ngrams = list(zip(*[text[i:] for i in range(n)]))
    return ngrams
py_ngrams = N_grams(text, 3)

# get the frequencey of each ngram
collections.Counter(py_ngrams)

# get the top frequent five
collections.Counter(py_ngrams).most_common(5)
    
# Second using NLTK

import nltk
from nltk.util import ngrams

# clean text
text = normalise(text)

# tokenize
words = nltk.word_tokenize(text)

# N_gram
n_grams = list(ngrams(words, 5))

# get the frequencey of each ngram
collections.Counter(n_grams)

